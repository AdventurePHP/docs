<doku:title parent="071" tags="apf,installation,download,erste schritte,anleitung,einstieg,download" title="Download, Installation und erste Schritte" urlname="Download-Installation-und-erste-Schritte">
   Das Tutorial beschreibt Schritt für Schritt die Einrichtung des Adventure PHP Framework vom Download bis zur
   Hallo Welt-Applikation.
</doku:title>
<img src="http://media.adventure-php-framework.org/content/first-steps.png" alt="Download, Installation und erste Schritte" class="leftTeaser"/>
<h3 id="Chapter-1-Einleitung"><a href="#Chapter-1-Einleitung">1. Einleitung</a></h3>
<p>
   In diesem Tutorial wird Schritt für Schritt erklärt, wie Sie das Adventure PHP Framework (kurz APF) einrichten.
</p>

<h3 id="Chapter-2-Anforderungen"><a href="#Chapter-2-Anforderungen">2. Anforderungen</a></h3>
<p>
   Bevor Sie beginnen, stellen Sie bitte zunächst sicher, dass Sie einen PHP-fähigen Webserver installiert haben. Für
   einen lokalen Testserver unter Windows eignet sich
   <a class="external" href="http://www.apachefriends.org/de/xampp.html" title="XAMPP für Windows">XAMPP</a> sehr
   gut. Er beinhaltet eine Installation aller wichtigen Serverkomponenten, wie Apache, PHP, MySQL, etc.
   Je nach Aufbau des Enwicklungssystems, müssen im Folgenden gegebenenfalls Pfade angepasst werden. Unter LINUX/UNIX
   können die notwendigen Webserver- und PHP-Bibliotheken mit dem Paket-Manager Ihrer Wahl sehr einfach direkt
   installiert werden.
</p>
<p>
   Weitere Hinweise finden Sie in den <int:link pageid="013" anchor="Chapter-3-Das-1-x-1-des-APF" />.
</p>

<h3 id="Chapter-3-Download"><a href="#Chapter-3-Download">3. Download</a></h3>
<p>
   Unter <int:link pageid="008" /> finden Sie die aktuellste Version des APF. Zum Zeitpunkt der Erstellung des
   Tutorials ist dies die Version 2.0.
</p>
<p>
   Bei den Release-Dateien wird zwischen folgenden Paket-Typen unterschieden:
</p>
<ul>
   <li>
      <strong>Beispiel-Projekt: (apf-demopack-*):</strong>
      Enthält die notwendigen APF Dateien, sowie einige Anwendungsbeispiele. Dieses Paket ist speziell für Einsteiger
      gedacht.
   </li>
   <li>
      <strong>Framework-Code-Release: (apf-codepack-*):</strong>
      Enthält die notwendigen APF Dateien. Dieses Paket ist für den Produktiveinsatz gedacht.
   </li>
   <li>
      <strong>Beispiel-Konfigurationsdateien: (apf-configpack-*):</strong>
      Enthält Beispiel-Konfigurationsdateien für Komponenten und Module des APF, die als Grundlage für die Erstellung
      eigener Konfigurationen dienen können.
   </li>
</ul>
<p>
   Für dieses Tutorial wird das Framework-Code-Release verwendet, welches Sie nun bitte herunterladen.
</p>

<h3 id="Chapter-4-Installation"><a href="#Chapter-4-Installation">4. Installation</a></h3>
<p>
   Zunächst ist es wichtig die Ordnerstruktur zu verstehen. Im Tutorial wird davon ausgegangen, dass der
   Document-Root (der Ordner der von Ihrem Webserver genutzt wird wenn Sie <em>http://localhost/</em> im Browser
   aufrufen) unter <em>/xampp/htdocs</em> liegt.
</p>
<p>
   Das APF ist so aufgebaut, dass nur eine einzige Datei (Bootstrap-Datei) aufgerufen wird. Der Rest
   wird über URL-Parameter gesteuert. Die Bootstrap-Datei (z.B. <em>index.php</em>) legen
   wir im Ordner <em>/xampp/htdocs</em> ab. Hier werden außerdem öffentlich zugängliche Dateien platziert (z.B. CSS,
   JS, Bilder).
</p>
<p>
   Aus Sicherheitsgründen sollten die Dateien des APF nicht öffentlich zugänglich sein da sonst Konfigurationsdateien
   einfach von außen ausgelesen werden könnten. Die sicherste Variante ist die Dateien des APF oberhalb des
   Wurzelverzeichnisses abzulegen. Sollte dies aus irgendeinem Grund (wie z.B. einem Webspace, bei dem nur Zugriff auf
   das Wurzelverzeichnis besteht) nicht möglich sein, fahren Sie mit
   <a href="#Chapter-4-2-Installation-innerhalb-Root-Verzeichnis">Kapitel 4.2</a> fort. Dort wird eine zusätzliche
   Sicherung erstellt um den Zugriff von außen zu unterbinden. Sofern Sie in der Konfiguration Ihres Web-Accounts frei
   sind, folgen Sie den Anweisungen in <a href="#Chapter-4-1-Installation-ausserhalb-Root-Verzeichnis">Kapitel 4.1</a>.
</p>

<h4 id="Chapter-4-1-Installation-ausserhalb-Root-Verzeichnis"><a href="#Chapter-4-1-Installation-ausserhalb-Root-Verzeichnis">4.1. Installation außerhalb des Root-Verzeichnisses</a></h4>
<p>
   Um die Dateien unserer Webseite bzw. Applikation zu schützen, legen wir nun das Verzeichnis <em>/xampp/APF</em>
   parallel zum Root-Verzeichnis <em>/xampp/htdocs</em> an. Öffnen Sie nun das zuvor heruntergeladene Paket und
   entpacken es in das soeben erstellte Verzeichnis.
</p>
<p>
   Sie finden nun folgende Ordnerstruktur vor:
</p>
<gen:highlight type="code">
/xampp/APF/
           core/
           modules/
           tools/
           ...
       htdocs/
</gen:highlight>
<p>
   Sie können nun direkt mit Kapitel <a href="#Chapter-5-Erste-Schritte">Kapitel 5</a> fortfahren.
</p>

<h4 id="Chapter-4-2-Installation-innerhalb-Root-Verzeichnis"><a href="#Chapter-4-2-Installation-innerhalb-Root-Verzeichnis">4.2. Installation innerhalb des Root-Verzeichnisse</a></h4>
<p>
   Installieren Sie das APF innerhalb des von aussen zugänglichen Bereichs Ihres Webservers muss darauf geachtet werden,
   dass der Ordner in dem sich die APF Dateien befinden vor dem Zugriff geschützt ist.
</p>
<p>
   Legen Sie nun das Verzeichnis <em>/xampp/htdocs/APF/</em> an und entpacken die zuvor heruntergeladene Datei.
</p>
<p>
   Sie finden nun folgende Ordnerstruktur vor:
</p>
<gen:highlight type="code">
/xampp/htdocs/APF/
                  core/
                  modules/
                  tools/
                  ...
</gen:highlight>
<p>
   Um das Verzeichnis <em>/xampp/htdocs/APF</em> vor dem Zugriff von außen zu schützen, legen Sie bitte die Datei
   <em>.htaccess</em> mit folgendem Inhalt an:
</p>
<gen:highlight type="shell">
# Apache <=2.2
Order allow,deny
deny from all

# Apache >=2.4
Require all denied
</gen:highlight>
<div class="hint">
   Beim übertragen der <em>.htaccess</em>-Datei via FTP muss die übertragungsmethode auf ASCII gestellt werden,
   andernfalls kann es zu Problemen kommen.
</div>

<h3 id="Chapter-5-Erste-Schritte"><a href="#Chapter-5-Erste-Schritte">5. Erste Schritte</a></h3>
<div class="hint">
   Da in den Kapiteln <a href="#Chapter-4-1-Installation-ausserhalb-Root-Verzeichnis">4.1</a> und
   <a href="#Chapter-4-2-Installation-innerhalb-Root-Verzeichnis">4.2</a> jeweils unterschiedliche Installationsordner
   verwendet wurden, ist im folgenden mit dem Ordner <em>/APF</em> sowohl der ausserhalb des Document-Root befindliche
   Ordner <em>/xampp/APF</em> als auch der innerhalb angelegte Ordner <em>/xampp/htdocs/APF</em> gemeint.
</div>
<p>
   Zuerst eine kurze Erklärung der einzelnen Ordner:
</p>
<ul>
   <li>
      <strong>/APF/core</strong>: Hier befinden sich alle Systemdateien des APF.
   </li>
   <li>
      <strong>/APF/modules</strong>: Hier befinden sich optionale Module die das APF mitliefert. Diese müssen jedoch
      erst konfiguriert werden. Wie das geht kann unter den Tutorials auf der
      <int:link pageid="119" anchor="Module">Übersichts-Seite der vorhandenen Module</int:link> eingesehen werden.
   </li>
   <li>
      <strong>/APF/tools</strong>: Hier befinden sich viele kleinere Tools, die Ihre Arbeit einfacher gestalten.
   </li>
   <li>
      <strong>/APF/extensions</strong>: In diesem Bereich finden Sie Erweiterungen des APF.
   </li>
</ul>
<p>
   Legen Sie nun die Datei <em>/xampp/htdocs/index.php</em> an. Wir werden nun eine einfache
   &quot;Hallo Welt&quot;-Applikation schreiben, um die Funktionalität des APF zu erklären.
</p>
<div class="hint">
   Im Folgenden wird der Begriff <em>Namespace</em> statt der Bezeichung <em>Ordner</em> verwendet.
   Das hat folgenden Hintergrund: der Namespace ist eine relative Adressierung ausgehend vom
   <strong>/APF</strong>-Ordner. Bei Namespaces müssen alle &quot;/&quot;" im Ordner-Pfad durch &quot;\&quot;
   ersetzt werden.
</div>
<p>
   Zur Generierung der Anzeige legen wir nun ein Template mit dem Namen <em>helloworld.html</em> im Ordner
   <em>/APF/helloworld</em> an und füllen dieses mit dem Inhalt:
</p>
<gen:highlight type="apf-xml">Hallo Welt!</gen:highlight>
<p>
   Zur Generierung der Ausgabe erweitern Sie bitte die zuvor angelegte <em>index.php</em> mit folgenden Inhalt (Erklärung
   folgt darunter):
</p>
<gen:highlight type="php">
// Bootstrap-Datei für den unter 4.1 konfigurierten Ordner einbinden
include('../APF/core/bootstrap.php');

// Bootstrap-Datei für den unter 4.2 konfigurierten Ordner einbinden
include('./APF/core/bootstrap.php');

use APF\core\singleton\Singleton;
use APF\core\frontcontroller\Frontcontroller;

// Front-Controller erzeugen und konfigurieren
$fC = &Singleton::getInstance('APF\core\frontcontroller\Frontcontroller');

// Request-Abarbeitung starten und Ergebnis zum Client senden
echo $fC->start('APF\helloworld', 'helloworld');
</gen:highlight>
<p>
   Zuerst wird die Datei <em>bootstrap.php</em> eingebunden, die die Basis-Konfiguration des Frameworks vornimmt.
   Anschließend wird der Front-Controller erzeugt und mit dem initialen Template gestartet. Der erste Parameter
   der <em>start()</em>-Methode ist dabei der Namespace (=der Pfad zum Template) und der zweite Parameter benennt die
   Templatedatei. Template-Namen werden im APF immer ohne die Dateiendung angegeben, da die Endung <em>*.html</em> per
   Konvention amgehangen wird. Zuletzt wird noch per <em>echo</em> die erzeugte Seite ausgegeben.
</p>
<p>
   Die genaue Funktionsweise des Front-Controller kann unter <int:link pageid="012" /> nachgelesen werden.
</p>
<p>
   Um das Ergebnis zu betrachten rufen wir die URL
</p>
<gen:highlight type="code">http://localhost/index.php</gen:highlight>
<p>
   auf. Dort sollte nun <em>Hallo Welt!</em> erscheinen.
</p>

<h3 id="Chapter-6-Fazit"><a href="#Chapter-6-Fazit">6. Fazit</a></h3>
<p>
   Jetzt sollte die grundlegende Funktionalität des APF bekannt sein. Um die vielen anderen
   Funktionen kennenzulernen, empfiehlt es sich noch ein paar weitere Tutorials zu lesen. Als
   nächstes Tutorial schlagen wir <int:link pageid="048" /> vor.
</p>
<div class="foreignAuthor">
   <img src="http://media.adventure-php-framework.org/content/ralf_schubert_screeze.gif" alt="Ralf Schubert findet das APF genial!"/>
   <p><em>Dieser Artikel wurde exklusiv für adventure-php-framework.org geschrieben.</em></p>
   <p class="author"><strong>Über den Autor:</strong></p>
   <p>
      <strong>Ralf Schubert</strong> ist begeisterter APF-Entwickler. Für ihn bietet es viele Vorteile
      gegenüber anderen Frameworks. Besonders gerne nutzt er die einfach Möglichkeit,
      wiederverwendbare Elemente zu erstellen.
   </p>
   <p>
      Um Neueinsteiger bei der Verwendung des APF zu unterstützen hat er ein Tutorial verfasst. Darin
      werden die ersten Schritte mit dem Framework erklärt.
   </p>
</div>

<core:importdesign namespace="APF\modules\comments\pres\templates" template="comment" categorykey="de_111" />