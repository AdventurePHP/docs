<doku:title parent="119" tags="mailsender" title="mailSender" urlname="mailSender">
  Die Klasse mailSender stellt einen Mail-Versand-Service zur Verfügung. Mit diesem können
  auf einfache Art und Weise Mails erstellt und verschickt werden.
</doku:title>
Die Klasse <strong>mailSender</strong> stellt einen Mail-Versand-Service zur Verfügung. Mit
diesem können auf einfache Art und Weise Mails erstellt und verschickt werden. Um die Komponente
verwenden zu können muss diese per
<gen:highlight type="php">
  import('tools::mail','mailSender');
</gen:highlight>
eingebunden werden. Ein einfaches Verwendungsbeispiel ist folgendes Code-Schnipsel:
<gen:highlight type="php">
   $MAIL = &$this->getAndInitServiceObject('tools::mail','mailSender','Standard');
   $MAIL->setSubject('My Subject');
   $MAIL->setContent('My Text');
   $MAIL->setRecipient('test@example.com','Your Name');

   $MAIL->sendMail();
</gen:highlight>
Soll die Mail an mehrere Empfänger verschickt werden, so kann entweder die Methode
<strong>setRecipient()</strong> verwendet werden um weitere Empfänger hinzuzufügen oder die
Mail kann per <strong>setCCRecipient()</strong> mit CC-Empfängern ausgestattet werden. BCC-Kopien
werden mit der Methode <strong>setBCCRecipient()</strong> unterstützt.
<br />
Ein ausführliches Anwendungsbeispiel finden Sie unter <int:link pageid="035" />.
<br />
<br />
Um das Modul einsetzen zu können muss dieses zuerst konfiguriert werden. Hierzu erwartet die
Komponente eine Konfigurationsdatei mit dem Namen
<gen:highlight type="code">
{ENVIRONMENT}_mailsender.ini
</gen:highlight>
unter dem Ordner
<gen:highlight type="code">
/apps/config/tools/mail/{CONTEXT}/
</gen:highlight>
Der im Aufruf von <em>getAndInitServiceObject()</em> verwendetete dritten Parameter definiert
den Konfigurationsabschnitt in der Konfigurationsdatei. Der Inhalt einer Sektion hat folgende Gestalt:
<gen:highlight type="apf-xml">
[{Sektionsname}]
Mail.SenderName = ""
Mail.SenderEMail = ""
Mail.ReturnPath = ""
Mail.ContentType = "text/plain; charset=iso-8859-1"
</gen:highlight>
Die Direktive <strong>Mail.ContentType</strong> kann mit beliebigen gültigen MIME-Definitionen
gefüllt sein. Die Konfigurationsdatei kann mehrere Abschnitte dieses Typs haben, damit der
<em>mailSender</em> in mehreren Module innerhalb einer Applikation eingesetzt werden kann.
<br />
<br />
<br />
<core:importdesign namespace="APF\modules\comments\pres\templates" template="comment" categorykey="de_020" />