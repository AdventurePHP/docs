<doku:title parent="119" tags="headermanager" title="HeaderManager" urlname="HeaderManager">
  The aim of the HeaderManager is to send HTTP headers to the client. Beyond this, the class
  guarantees, that URLs generated with the LinkGenerator can be used as well.
</doku:title>
<p>
   The aim of the HeaderManager is to send HTTP headers to the client. Beyond this, the class guarantees, that
   URLs generated with the <int:link pageid="138">LinkGenerator</int:link> can be used as well.
</p>
<p>
   The following static methods are available for use by the developer:
</p>
<ul>
  <li>
    <strong>forward()</strong>:
    Forwards to the desired target url.
  </li>
  <li>
    <strong>redirect()</strong>:
    Redirects the user to the desired url. You can descide to send permanent redirect status or not.
  </li>
  <li>
    <strong>send()</strong>:
    This method is a generic function, that can be used to send any HTTP header (e.g. content-type, ...). For details,
     please have a look at <a class="external" href="http://www.faqs.org/rfcs/rfc2616">www.faqs.org/rfcs/rfc2616</a>.
  </li>
</ul>
<p>
   The following code box shows a typical examples:
</p>
<gen:highlight type="php">
use APF\tools\http\HeaderManager;
use APF\tools\link\LinkGenerator;
use APF\tools\link\Url;

$link = LinkGenerator::generateUrl(
   Url::fromCurrent()->mergeQuery(array('param1' => '','param2' => 'new_value'))
);
HeaderManager::forward($link);
</gen:highlight>
<div class="hint">
   <p>
      Both methods <em>forward()</em> and <em>redirect()</em> abort further code execution using <em>exit()</em> to
      avoid <em>code injection</em> (see
      <a href="http://adamdoupe.com/blog/2011/04/20/overview-of-execution-after-redirect-web-application-vulnerabilities/">Overview of Execution After Redirect Web Application Vulnerabilities</a>).
   </p>
   <p>
      To switch off the default behaviour you may want to use <em>HeaderManager</em>'s
      <em>deactivateExitAfterForward()</em> or <em>activateExitAfterForward()</em> methods to either globally switch this
      feature off or on.
   </p>
   <p>
      To deactivate abortion with a dedicated <em>forward()</em> or <em>redirect()</em> call you can apply the
      optional <em>$exitAfterForward</em> parameter set to <em>false</em>.
   </p>
</div>

<core:importdesign namespace="APF\modules\comments\pres\templates" template="comment" categorykey="en_080" />