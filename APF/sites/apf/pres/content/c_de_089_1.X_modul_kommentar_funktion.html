<doku:title parent="119" tags="dokumentation,module,captcha,gaestebuch,pager,kommentar,social bookmarking,usermanagement" title="Kommentar-Funktion" urlname="Kommentar-Funktion">
  Das Modul comments bietet ein voll funktionsfähiges Kommentar-Modul für Webseiten, das
  lediglich über einen XML-Tag in die Seite eingebunden werden muss.
</doku:title>
<h3 id="Chapter-1-Einbindung"><a href="#Chapter-1-Einbindung">1. Einbindung</a></h3>
Das Modul "comments" bietet ein voll funktionsfähiges Kommentar-Modul für
Webseiten, das lediglich über einen XML-Tag in die Seite eingebunden werden muss. Die Einbindung
kann dabei über den <int:link pageid="046">importdesign</int:link>-Tag wie folgt erledigt werden:
<gen:highlight type="apf-xml">
&lt;core:importdesign
   namespace="modules::comments::pres::templates"
   template="comment"
   categorykey="{CAT_KEY}"
/&gt;
</gen:highlight>
Der Wert "<em>{CAT_KEY}</em>" ist dabei auf den Wert der aktuellen Kategorie zu ändern.
<br />
<br />
<br />
<h3 id="Chapter-2-Konfiguration"><a href="#Chapter-2-Konfiguration">2. Konfiguration</a></h3>
<h4 id="Chapter-2-1-Applikations-Konfiguration"><a href="#Chapter-2-1-Applikations-Konfiguration">2.1. Applikations-Konfiguration</a></h4>
Das Modul nutzt eine Datenbank-Tabelle zur Speicherung der Kommentare. Aus diesem Grund muss eine
Konfiguration angelegt werden, die auf eine bestehende Datenbank-Konfiguration verweist. Der Name
der Konfigurationsdatei lautet
<gen:highlight type="code">/APF/config/modules/comments/{CONTEXT}/{ENVIRONMENT}_comments.ini</gen:highlight>
der Inhalt gestaltet sich wie folgt:
<gen:highlight type="ini">
[Default]
Database.ConnectionKey = "..."
</gen:highlight>
Details zur Konfiguration können dem Kapitel
<int:link pageid="134" anchor="Chapter-2-1-Konfigurations-Schema">Konfigurations-Schema</int:link>
entnommen werden, das Kapitel <int:link pageid="031"/> beschreibt die Konfiguration der Datenbank-Verbindung.
<br />
<br />
<br />
<h4 id="Chapter-2-2-CSS-Anpassung"><a href="#Chapter-2-2-CSS-Anpassung">2.2. CSS-Anpassung</a></h4>
Zur Anpassung der Styles des Moduls an das jeweilige Einsatzgebiet sehen die Templates entsprechende
Klassen vor. Die vorhandenen Klassen sowie eine Beispiel-Gestaltung findet sich unter
<gen:highlight type="apf-xml">/modules/comments/pres/css/comments.css</gen:highlight>
Bei der Einbindung des Moduls müssen die in der Beispiel-CSS-Datei definierten Elemente
in die Seite eingebunden werden. Dies kann durch Hinzufügen der Stylesheet-Datei in den Head
der Webseite oder durch Kopieren der Klassen in bereits vorhandene Style-Sheet-Dateien
bewerkstelligt werden.
<br />
<br />
<br />
<h4 id="Chapter-2-3-CAPTCHA-Modul"><a href="#Chapter-2-3-CAPTCHA-Modul">2.3. CAPTCHA-Modul</a></h4>
<p>
   Um das Erstellen von Einträgen zu limitieren, wurde das <int:link pageid="094" />
   in das Formular integriert. Dieses benötigt zur dynamischen Anzeige des CAPTCHA-Bildes noch eine
   zusätzliche Konfiguration. Die einzelnen Schritte entnehmen Sie bitte der Seite des
   CAPTCHA-Moduls.
</p>

<h3 id="Chapter-3-Hinweis"><a href="#Chapter-3-Hinweis">3. Hinweis</a></h3>
<p>
   Eine ausführliche Beschreibung zur Benutztung und zur Implementierung findet sich im Bereich
   Tutorials unter <int:link pageid="032" />.
</p>

<core:importdesign namespace="APF\modules\comments\pres\templates" template="comment" categorykey="de_089" />