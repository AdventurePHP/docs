<@controller
   class="DEV\wizard\controller\SearchController"
@>
<p>
   <a href="?">&lt;&lt; Back to main page</a>
</p>
<h2>Create/refresh search index</h2>
<div>
   <core:addtaglib class="APF\tools\form\taglib\HtmlFormTag" prefix="html" name="form" />
   <html:form name="index-maintenance">
      <p>
         With this wizard you can create or update the search index. It contains both the list of articles used for
         URL creation and the index for page-based searches. Please be sure to have executed the database
         <a href="?page=database">configuration wizard</a> and <a href="?page=setup">setup wizard</a>.
      </p>
      <div class="section">
         <p>
            Please choose whether to create/update the article store or the search index or both (<em>all</em>).
            <em>Articles</em> is recommended when you've added a new page and <em>search index</em> is required if
            you intend to test the search locally.
         </p>
         <p>
            <form:select name="part">
               <select:option value="all">All (articles and index)</select:option>
               <select:option value="articles" selected="selected">Articles</select:option>
               <select:option value="index">Search index</select:option>
            </form:select>
         </p>
      </div>
      <p>
         <form:button name="start" value="Start" />
      </p>
   </html:form>
   <html:template name="success">
      <p class="success">
         Your <em>index update</em> has been executed successfully. Your setup has been completed now!
      </p>
   </html:template>
   <html:template name="error">
      <p class="error">
         <em>index update</em> failed. Exception message: <strong>${exception-message}</strong>.
      </p>
   </html:template>
</div>