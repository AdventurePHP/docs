<doku:title tags="documentation,module,captcha,guestbook,pager,comment,social bookmarking,usermanagement" title="Module - comment function" urlname="Module-comment-function">
  The comment function modul is a modul that can be configured and included in each web page by
  adding an XML tag to an existing template.
</doku:title>
<a name="1-Inclusion"></a><h3>1. Inclusion</h3>
The comment function modul is a modul that can be configured and included in each web page by adding
an XML tag:
<code:highlight>
  &lt;core:importdesign
    namespace="modules::comments::pres::templates"
    template="comment"
    categorykey="{CAT_KEY}"
   /&gt;
</code:highlight>
The value "<em>{CAT_KEY}</em>" must be changed to something useful.
<br />
<br />
<br />
<a name="2-Configuration"></a><h3>2. Configuration</h3>
<a name="2-1-Applications-configuration"></a><h4>2.1. Application configuration</h4>
The module uses a database table to save the comments. For this reason, a database configuration
must be defined in the module's configuration. The name of the configuration file is
<code:highlight>/config/modules/comments/{CONTEXT}/{ENVIRONMENT}_comments.ini</code:highlight>
and the content looks as follows:
<code:highlight>
[Default]
Database.ConnectionKey = "..."
</code:highlight>
Details on the configuration can be taken from the chapter
<a href="./?Page=033-Configuration#2-Naming-conventions" title="Naming-conventions">Naming-conventions</a>, section
<a href="./?Page=031-Class-reference-table-connectionmanager" title="Class reference table ConnectionManager">ConnectionManager</a>
describes the database configuration.
<br />
<br />
<br />
<a name="2-3-CAPTCHA-module"></a><h4>2.3. CAPTCHA module</h4>
To protect the comment form from spam posts, the form was added the
<a href="./?Page=094-Module-captcha" title="CAPTCHA module">CAPTCHA module</a>. This APF module
needs further configuration in order to dynamically display the captcha module. So please take the
steps necessary from the linked module desciption page.
<br />
<br />
<br />
<a name="2-2-CSS-adaption"></a><h4>2.2. CSS adaption</h4>
In order to adapt the design of the module fitting your page layout, several classes are included
in the HTML markup. For a start, you can use the stylesheet, that is delivered together with the
module's code:
<code:highlight>/modules/comments/pres/css/comments.css</code:highlight>
Including the module into your page, your stylesheet should contain the content of the example file.
This can be achieved by adding the whole stylesheet to your page header or by defining the relevant
classes within your existing stylesheets.
<br />
<br />
<br />
<a name="3-Note"></a><h3>3. Note</h3>
A detailed description on the function of this modul can be found in the <strong>tutorials
section</strong> under <a href="./?Page=032-Comment-function" title="comment function">comment function</a>.
<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="en_089" />