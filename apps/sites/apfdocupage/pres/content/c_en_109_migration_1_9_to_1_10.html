<doku:title tags="migration,1.9,1.10,pager,mysqlhandler,comment" title="Migration from version 1.9 to 1.10" urlname="Migration-1-9-to-1-10">
  The present article describes the changes that have to be applied to existing code, when switching
  to revision 1.10.
</doku:title>
<core:importdesign namespace="sites::apfdocupage::pres::templates::perspectives::content::voting" template="voting" />
<a name="1-Introduction"></a><h3>1. Introduction</h3>
Version 1.10 contains several changes, that are not backward-compatible with the previous versions.
For this reason, it is necessary to adapt existing applications. The following chapters will decribe
the changes and give you some hints for effective migration.
<br />
<br />
<br />
<a name="2-Inclusion-PagerManager"></a><h3>2. Inclusion of the PagerManager</h3>
In order to be able to implement the changes discussed for release 1.11, the inclusion/call of the
<em>PagerManager</em> was modified. As of 1.9, the business component had to be imported by
<php:highlight>import('modules::pager::biz','pagerManager');</php:highlight>
until now, you need to use
<php:highlight>import('modules::pager::biz','PagerManagerFabric');</php:highlight>
Due to the fact, that the change is only textual, the migration can be done using search &amp;
replace.
<br />
<br />
<br />
<a name="3-Outsourcing-of-statements"></a><h3>3. Outsourcing of statements</h3>
Including release 1.9, the external statement files must reside within the "statements" subfolder.
Until now, these files are treated as configuration files, too. This means, that the additional
subfolder is no longer necessary. For this reason, the existing statement files must be moved one
directory level higher. Details can be read about in the
<a href="./?Page=018-Class-reference-table-MySQLHandler#2-Statement-outsourcing" title="Statement outsourcing">statement outsourcing</a>
section.
<br />
<br />
<br />
<a name="4-Configuration-comment-function"></a><h3>4. Configuration comment function</h3>
The comment function was introduced the <em>ConnectionManager</em> to be more flexible with
database connection definition. For this reason, the comment module needs an additional configuration
file, that defines the database connection. Details can be read about in the
<a href="./?Page=089-Module-comment-function#2-Configuration" title="Configuration">Configuration</a>
chapter.
<br />
<br />
<br />
<a name="5-Introduction-of-php5-language-elements"></a><h3>5. Introduction of PHP5 language elements</h3>
As announced in the release notes of the last release, the development has now switched to PHP5.
This means, that the PHP5 release files contain all PHP5 language elemens. For this reason, you must
now take care about the visibility of methods and class members. Please ensure, that the visibility
is recognized within your existing applications.
<br />
<br />
<br />
<a name="6-Renamings"></a><h3>6. Renamings</h3>
The following classes have been renamed:
<ul>
   <li>serviceManager -> ServiceManager</li>
   <li>sessionManager -> SessionManager</li>
   <li>benchmarkTimer -> BenchmarkTimer</li>
</ul>
The renaming of the <em>ServiceManager</em> class should be transparent to you, because the call
is encapsulated within the <strong>__get*ServiceObject()</strong> of the <strong>coreObject</strong>.
<br />
<br />
The remaining changes are only textual changes that can be done by search &amp; replace.
<br />
<br />
<div class="hint">
Be careful with capitalization and use of small letters! In case your code contains a mixture of
both notations you may faced with errors like "<em>cannot redeclare class ... in ...</em>". To fix
this, the miss-spelt usages must be corrected within the <em>import()</em> or
<em>include()</em>/<em>require()</em> statements. Sometimes the PHP module
<a href="http://xdebug.org/docs/stack_trace" title="xdebug 2" target="_blank">xdebug</a>
can help finding the relevant lines of code.
</div>
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="en_109" />