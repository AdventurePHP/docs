<doku:title tags="migration,1.9,1.10,pager,mysqlhandler,kommentar" title="Migration Version 1.9 auf 1.10" urlname="Migration-1-9-auf-1-10">
  Der vorliegende Artikel zeigt die &Auml;nderungen, die bei Upgrade auf die Version 1.10 an
  bestehender Software vorgenommen werden m&uuml;ssen.
</doku:title>
<core:importdesign namespace="sites::apfdocupage::pres::templates::perspectives::content::voting" template="voting" />
<a name="1-Einleitung"></a><h3>1. Einleitung</h3>
In der Version 1.10 sind einige &Auml;nderungen enthalten, die nicht API-konform sind. Daher ist es
notwendig, bestehende Anwendungen anzupassen. Die folgenden Kapitel beschreiben die notwendigen
Updates und geben Hinweise auf die neu im Release vorhandenen Features.
<br />
<br />
<br />
<a name="2-Einbindung-PagerManager"></a><h3>2. Einbindung PagerManager</h3>
In Vorbereitung auf neue Features des Pagers in Version 1.11 wurde die Einbindung des Pagers
modifiziert. In Applikationen bis einschlie&szlig;lich 1.9 konnte der Pager mit dem Aufruf
<php:highlight>import('modules::pager::biz','pagerManager');</php:highlight>
eingebunden werden. Ab Version 1.10 ist dies durch
<php:highlight>import('modules::pager::biz','PagerManagerFabric');</php:highlight>
zu erledigen.
<br />
<br />
Da die &Auml;nderung nur textueller Natur ist, kann die Migration per Suchen &amp; Ersetzen
durchgef&uuml;hrt werden.
<br />
<br />
<br />
<a name="3-Auslagerung-von-Statements"></a><h3>3. Auslagerung von Statements</h3>
Bisher Subordner "statements" notwendig, jetzt werden SQL-Dateien ebenso als Konfigurationsdateien
behandelt und der "statements" Ordner entf&auml;llt. Die vorhandenen Statement-Dateien m&uuml;ssen
deshalb eine Ebene h&ouml;her geschoben werden. Details k&ouml;nnen dem Kapitel
<a href="./?Seite=018-KlassenReferenz-MySQLHandler#2-Statement-Auslagerung" title="Statement-Auslagerung">Statement-Auslagerung</a>
entnommen werden.
<br />
<br />
<br />
<a name="4-Konfiguration-Kommentar-Funktion"></a><h3>4. Konfiguration Kommentar-Funktion</h3>
Hier wurde der ConnectionManager eingef&uuml;hrt. Bisher wurde einfach DB-Connection "MySQL"
verwendet, jetzt muss diese speziell Konfiguriert werden. Hierzu einfach die Beispiel-Datei
ziehen, in den relevanten Pfad legen und entsprechend den lokalen Anforderungen f&uuml;llen. Details
k&ouml;nnen dem Kapitel
<a href="./?Seite=089-Module-Kommentar-Funktion#2-Konfiguration" title="Modul - Kommentar-Funktion">Konfiguration</a>
entnommen werden.
<br />
<br />
<br />
<a name="5-Einfuehrung-PHP5-Sprachkonstrukte"></a><h3>5. Einf&uuml;hrung PHP5 Sprachkonstrukte</h3>
Wie angek&uuml;ndigt wurde die Entwicklung nun auf PHP5 umgestellt. Im PHP5-Release sind die Klassen
nun mit den PHP5-Sprachkonstrukten ausgestattet. Grunds&auml;tzlich muss hier nichts beachtet werden,
sollten jedoch bisher als private oder protected definierte Methoden im Modus public verwendet
worden sein, f&uuml;hrt das nun zum Fehler.
<br />
<br />
<br />
<a name="6-Umbenennungen"></a><h3>6. Umbenennungen</h3>
Folgende Klassen wurden umbenannt:
<ul>
   <li>serviceManager -> ServiceManager</li>
   <li>sessionManager -> SessionManager</li>
   <li>benchmarkTimer -> BenchmarkTimer</li>
</ul>
Dabei sollte die Umbenennung des <em>ServiceManager</em> nicht von Bedeutung sein, da der Aufruf
in den Methoden <strong>__get*ServiceObject()</strong> der Klasse <strong>coreObject</strong>
gekapselt ist.
<br />
<br />
Die &uuml;brigen &Auml;nderungen sind textueller Natur und k&ouml;nnen per Suchen &amp; Ersetzen
erledigt werden.
<br />
<br />
<div class="hint">
Vorsicht jedoch bei der Gro&szlig;- und Kleinschreibung! Sofern sich nach der Umbenennung eine Mischung
aus beiden Varianten befindet, kommt es zu einem "<em>cannot redeclare class ... in ...</em>"-Fehler.
Um diesen zu beheben, muss der Code nach relevanten Stellen, die noch falsche Einbindungen per
<em>import()</em> oder <em>include()</em>/<em>require()</em> enthalten. Hilfestellung dazu kann das
PHP-Modul <a href="http://xdebug.org/docs/stack_trace" title="xdebug 2" target="_blank">xdebug</a>
geben.
</div>
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="de_109" />