<doku:title tags="apf,installation,download,first steps,tutorial,beginning" title="Download, installation und first steps" urlname="Download-installation-and-first-steps">
	This step-by-step tutorial describes how to set up the adventure PHP Framework, beginning with
   the download and ending with an &quot;Hello world&quot; application.
</doku:title>
<core:importdesign namespace="sites::apfdocupage::pres::templates::perspectives::content::voting" template="voting" />
<img src="http://media.adventure-php-framework.org/content/ralf_schubert_screeze.gif" alt="Ralf Schubert thinks the APF is brilliant!" class="supporter"/>
<strong>Ralf Schubert</strong>, an enthusiastic APF developer likes the framework giving the chance
to easily develop resuable gui elements (aka. widgets). This is one of the reasons, why he had
chosen the APF to be his application development framework of choice.
<br />
<br />
To support beginners, he wrote this article to give a brief introduction into the framework and to
ease the first steps using the APF.
<br /><br /><br /><br /><br /><br /><br /><br />
<a name="1-Introduction"></a><h3>1. Introduction</h3>
This is a step-by-step tutorial, which shows you how to set up and use the Adventure PHP Framework
(short: APF).
<br />
<br />
<br />
<a name="2-Requirements"></a><h3>2. Requirements</h3>
First, you need a PHP capable server. As local test server under windows you might have a look at 
<a href="http://www.apachefriends.org/en/xampp.html" title="XAMPP for windows">XAMPP page</a>. It
contains an installation of all important server components like Apache, PHP, MySQL, etc. Depending
on your setup, you need to adjust the paths used in this tutorial. On LINUX/UNIX boxes you might
install the PHP libraries using your favorite package manager.
<br />
<br />
<br />
<a name="3-Download"></a><h3>3. Download</h3>
Under <a href="http://adventure-php-framework.org/Page/008-Downloads" title="APF Downloads">Downloads</a>
you can always find the latest version. Writing this tutorial, version 1.10 was the latest.
<br />
<br />
There, the following packages are available:
<ul>
   <li>
      Example project: (apf-demopack-*):
      <br />
      Contains all necessary APF files and some examples. It's designed for beginners.
   </li>
   <li>
      Framework code release: (apf-codepack-*):
      <br />
      This contains all necessary APF files. It is designed for daily use.
   </li>
   <li>
      Sample configuration package: (apf-configpack-*):
      <br />
      This contains some sample configurations, which are useful while creating the own configurations.
   </li>
</ul>
For this tutorial we will use the "framework code release", which you can download now.
<br />
<br />
<br />
<a name="4-Installation"></a><h3>4. Installation</h3>
You need to understand the structure of the folders first. This tutorial expects the document root
(the folder which is being opened when you visit <em>http://localhost/</em> in your browser) under
<em>/xampp/htdocs</em>.
<br />
<br />
The APF is designed delivering a website using only one file. This file (e.g. <em>index.php</em>)is
called "bootstrap" file. We create the folder <em>/xampp/htdocs/APF/sites/helloworld/</em> for it.
Here you can further place public accessible files (e.g. pictures).
<br />
<br />
For security reasons the APF files should not be public accessible, otherwise the public might read
your configuration files. The best way would be, placing the package above the document root. If that's 
not possible (e.g. on a simple webspace without control of the document root) follow step 4.2, where
a special security rule is being created, otherwise follow step 4.1.
<br />
<br />
<br />
<a name="4-1-Installation-above-document-root"></a><h4>4.1. Installation above the document root</h4>
Because the document root is placed at <em>/xampp/htdocs/</em>, we will create <em>/xampp/APF/</em>. 
Now we extract the before downloaded package in here.
<br />
<br />
Now there should be the following directory structure:
<code:highlight>
/xampp/APF/apps/
                core/
                modules/
                tools/
</code:highlight>
If everything is fine, you can skip section 4.2.
<br />
<br />
<br />
<a name="4-2-Installation-under-document-root"></a><h4>4.2. Installation under document root</h4>
We need to take care that we secure the APF files from public requests. We already created
<em>/xampp/htdocs/APF/</em>, so we just extract the before downloaded package in here. Now there
should be the following directory structure:
<code:highlight>
/xampp/htdocs/APF/apps/
                       core/
                       modules/
                       tools/
</code:highlight>
<br />
<br />
For securing the APF files, we create a <strong>.htaccess</strong> file within
<em>/xampp/htdocs/APF/apps/</em> using the follwing content:
<code:highlight>
# Deny all requests
Order allow, deny
deny from all
</code:highlight>
<div class="hint">
   When uploading the .htaccess file via FTP you need to make sure that ASCII-mode is enabled,
   otherwise there could be problems.
</div>
<br />
<br />
<a name="5-First-steps"></a><h3>5. First steps</h3>
<div class="hint">
   We dont provide always the full path from now on. We will now call <em>/apps/</em> the folder 
   with the APF files, and <em>/APF/</em> the public accessible folder.
</div>
<br />
Let's explain the folders first:
<ul>
   <li>
      <strong>/apps/core/</strong>: Contains all important APF base libs.
   </li>
   <li>
      <strong>/apps/modules</strong>: Contains some optional modules which are provided together 
      with the APF. If you want to use them, you need to configure them first. How this works can be
      read in the tutorials on the
      <a href="./?Page=039-Builtin-modules" title="039-Builtin-modules">overview page of built-in modules</a>.
   </li>
   <li>
      <strong>/apps/tools</strong>: Contains some little but useful tools.
   </li>
</ul>
We will create the file <strong>/APF/sites/helloworld/index.php</strong> now. We will write
a simple "hello world!" application, in order to explain the base functions.
<br />
<br />
<div class="hint">
   Hereafter the term <em>namespace</em> will be used instead of <em>folder</em>. The reason for
   this is the following: The namespace is a relative addressing from the <strong>/apps</strong>
   folder. In the namespace all "/" must be replaced with "::".
</div>
<br />
We now need to create the namespace for the template. For that reason we will create the folder 
<strong>/apps/sites/helloworld</strong>, and in this we create the folders
<strong>/pres/templates</strong>. Because the APF supports 3 layer applications (presentation,
business and data) the <strong>pres</strong> means the presentation layer, in which the
<strong>.html</strong> templates are stored in <strong>/templates</strong>. We only need one
template for this example:
<code:highlight>helloworld.html</code:highlight>
We just write
<code:highlight>Hello World!</code:highlight>
in it.
<br />
Now we edit the before created index.php. It will contain the following: (Description follows below):
<php:highlight>
// include page controller (for the under 4.1 configured folder)
include_once('/../APF/apps/core/pagecontroller/pagecontroller.php');

// include page controller (for the under 4.2 configured folder)
//include_once('/APF/apps/core/pagecontroller/pagecontroller.php');

// create page
$page = new Page();

// Load main template
$page->loadDesign('sites::helloworld','pres/templates/helloworld');

// transform and display page
echo $page->transform();
</php:highlight>
At first we include the page controller. Here you need to choose the right variation
for the step you followed before. Then we create a new Page object. After that we load
the template we created before. The first parameter is the namespace, the second one is the 
path to the template with the name of the template file. File names are always provides without 
extensions in the APF, because the framework convention tells how they have to be called.
(*.html for templates, *.ini for configuration files, *.php for PHP-files). At last we transform 
and display the page.
<br />
<br />
The exact functioning of the page controller can be read about on the
<a href="./?Page=098-Pagecontroller" title="Page-Controller">APF page controller</a> page.
<br />
<br />
To see the result we visit
<code:highlight>http://localhost/APF/sites/helloworld/index.php</code:highlight>
There should be displayed <em>Hello World!</em> now.
<br />
<br />
<br />
<a name="6-Summary"></a><h3>6. Summary</h3>
Now the base functionality of the APF should be clear. In order to get to know the many other 
functions, you should read some more tutorials. I suggest the
<a href="./?Page=048-My-first-website" title="My first website">My first website</a> tutorial as
a next step.
<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="en_111" />