<doku:title tags="dokumentation,module,captcha,gaestebuch,pager,kommentar,social bookmarking,usermanagement" title="Module - Kommentar-Funktion" urlname="Module-Kommentar-Funktion">
  Das Modul comments bietet ein voll funktionsf&auml;higes Kommentar-Modul f&uuml;r Webseiten, das
  lediglich &uuml;ber einen XML-Tag in die Seite eingebunden werden muss.
</doku:title>
<core:importdesign namespace="sites::apfdocupage::pres::templates::perspectives::content::voting" template="voting" />
<a name="1-Einbindung"></a><h3>1. Einbindung</h3>
Das Modul "comments" bietet ein voll funktionsf&auml;higes Kommentar-Modul f&uuml;r
Webseiten, das lediglich &uuml;ber einen XML-Tag in die Seite eingebunden werden muss. Die Einbindung
kann dabei &uuml;ber den
<a href="./?Seite=046-Standard-TagLibs#1-2-Importdesign" title="Standard-TagLibs">importdesign</a>-Tag
wie folgt erledigt werden:
<code:highlight>
  &lt;core:importdesign
    namespace="modules::comments::pres::templates"
    template="comment"
    categorykey="{CAT_KEY}"
   /&gt;
</code:highlight>
Der Wert "<em>{CAT_KEY}</em>" ist dabei auf den Wert der aktuellen Kategorie zu &auml;ndern.
<br />
<br />
<br />
<a name="2-Konfiguration"></a><h3>2. Konfiguration</h3>
<a name="2-1-Applikations-Konfiguration"></a><h4>2.1. Applikations-Konfiguration</h4>
Das Modul nutzt eine Datenbank-Tabelle zur Speicherung der Kommentare. Aus diesem Grund muss eine
Konfiguration angelegt werden, die auf eine bestehende Datenbank-Konfiguration verweist. Der Name
der Konfigurationsdatei lautet
<code:highlight>/config/modules/comments/{CONTEXT}/{ENVIRONMENT}_comments.ini</code:highlight>
der Inhalt gestaltet sich wie folgt:
<code:highlight>
[Default]
Database.ConnectionKey = "..."
</code:highlight>
Details zur Konfiguration k&ouml;nnen dem Kapitel
<a href="./?Seite=033-Konfiguration#2-Bennenung-Pfade-und-Dateien" title="Benennung von Pfaden und Dateien">Benennung von Pfaden und Dateien</a>
entnommen werden, das Kapitel
<a href="./?Seite=031-Klassenreferenz-connectionManager#2-Anwendung" title="Klassenreferenz - connectionManager">Klassenreferenz connectionManager</a>
beschreibt die Konfiguration der Datenbank-Verbindung.
<br />
<br />
<br />
<a name="2-2-CSS-Anpassung"></a><h4>2.2. CSS-Anpassung</h4>
Zur Anpassung der Styles des Moduls an das jeweilige Einsatzgebiet sehen die Templates entsprechende
Klassen vor. Die vorhandenen Klassen sowie eine Beispiel-Gestaltung findet sich unter
<code:highlight>/modules/comments/pres/css/comments.css</code:highlight>
Bei der Einbindung des Moduls m&uuml;ssen die in der Beispiel-CSS-Datei definierten Elemente
in die Seite eingebunden werden. Dies kann durch Hinzuf&uuml;gen der Stylesheet-Datei in den Head
der Webseite oder durch Kopieren der Klassen in bereits vorhandene Style-Sheet-Dateien
bewerkstelligt werden.
<br />
<br />
<br />
<a name="2-3-CAPTCHA-Modul"></a><h4>2.3. CAPTCHA-Modul</h4>
Um das Erstellen von Eintr&auml;gen zu limitieren, wurde das
<a href="./?Seite=094-Module-CAPTCHA-Taglib" title="CAPTCHA-Modul">CAPTCHA-Modul</a>
in das Formular integriert. Dieses ben&ouml;tigt zur dynamischen Anzeige des CAPTCHA-Bildes noch eine
zus&auml;tzliche Konfiguration. Die einzelnen Schritte entnehmen Sie bitte der Seite des
CAPTCHA-Moduls.
<br />
<br />
<br />
<a name="3-Hinweis"></a><h3>3. Hinweis</h3>
Eine ausf&uuml;hrliche Beschreibung zur Benutztung und zur Implementierung findet sich im Bereich
<strong>Tutorials</strong> unter <a href="./?Seite=032-Kommentarfunktion" title="Kommentar-Funktion">Kommentar-Funktion</a>.
<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="de_089" />