<doku:title tags="dokumentation,klassen referenz,klassen,referenz,singleton,cookiemanager" title="Klassen-Referenz - CookieManager" urlname="Klassenreferenz-CookieManager">
 Der CookieManager erm&ouml;glicht es - &auml;hnlich dem SessionManager - Cookies komfortabel in
 unterschielichen Namespaces zu verwalten.
</doku:title>
<core:importdesign namespace="sites::apfdocupage::pres::templates::perspectives::content::voting" template="voting" />
Ab dem 1.9er Branch ist der <strong>CookieManager</strong> verf&uuml;gbar. Die Komponente
erm&ouml;glicht es - &auml;hnlich dem <em>SessionManager</em> - Cookies komfortabel zu verwalten.
Da die Implementierung von HTTP-Cookies keine Namespaces unterst&uuml;tzt wurde das Handling so
erweitert, dass Cookie-Werte in getrennten Namespaces verwaltet werden k&ouml;nnen.
<br />
<br />
Die folgende Code-Box zeigt ein Beispiel f&uuml;r die Verwendung des <em>CookieManager</em>s:
<php:highlight>
// include the CookieManager
import('tools::cookie','CookieManager');

// create the CookieManager and apply the desired namespace
$cM = new CookieManager('my::namespace');

// try to get the cookie value
$value = $cM->readCookie('key');
if($value !== null){
   echo '<br />Cookie value: '.$value;
}
else{
   $cM->createCookie('key','value');
   echo '<br />Setting cookie...';
}

// delete cookie if dedired
if(/* ... */){
   $cM->deleteCookie('key');
}

// update cookie if desired
if(/* .. */){
   $cM->updateCookie('key','value_2');
}

// change namespace of the current instance
$cM->setNamespace('my::second::namespace');
</php:highlight>
Im obigen Beispiel werden Cookie-Domain und Cookie-Pfad selbst&auml;ndig ermittelt. Ist es notwenig,
diese innerhalb einer Applikation davon abweichend zu setzen, k&ouml;nnen diese den jeweiligen
Methoden als zus&auml;tzliche Parameter mitgegeben werden. Details dazu k&ouml;nnen der API-Dokumentation
entnommen werden.
<br />
<br />
<strong>Hinweis:</strong> Bitte beachten Sie, dass das Cookie-Handling nur bei Domains <u>ungleich</u>
<strong>localhost</strong> funktioniert. F&uuml;r die lokale Entwicklungsumgebung emfiehlt es sich
deshalb einen eigenst&auml;ndigen VHOST anzulegen.
<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="de_097" />