<doku:title tags="dokumentation,klassen referenz,klassen,referenz,singleton,cachemanager" title="Klassen-Referenz - CacheManager" urlname="Klassenreferenz-CacheManager">
  Die neue Implementierung des CacheManager bietet gegen&uuml;ber der bisherigen Komponenten variable
  Ziele, frei w&auml;hlbare Reader und Writer sowie eine Methode zum verwalten des Caches.
</doku:title>
<core:importdesign namespace="sites::apfdocupage::pres::templates::perspectives::content::voting" template="voting" />
Wie der <a href="./?Seite=042-Roadmap" title="Roadmap">Roadmap</a> zu entnehmen ist, beinhaltet die
Version 1.8 das Redesign des Cache-Managers. Nachteil der bisherigen Implementierung war die starre
Handhabung der jeweiligen Cache-Klassen und die suboptimale M&ouml;glichkeit der Erweiterung
derselben.
<br />
<br />
Der neu implementierte <em>CacheManager</em> ist daher einfach gehalten, bietet jedoch eine sehr
einfache M&ouml;glichkeit, die Funktionen zu erweitern. Der <em>CacheManager</em> selbst besitzt nur
eine begrenzte Konfiguration, die Funktion des Lesens und Schreibens von Cache-Inhalten &uuml;bernehmen
die Implementierungen der <strong>Reader</strong> und <strong>Writer</strong>. Im Release sind bereits
einige Standard <strong>Reader</strong> und <strong>Writer</strong> enthalten, die Funktion kann
jedoch durch die Implementierung der Abstrakten Klassen <strong>AbstractCacheReader</strong> und
<strong>AbstractCacheWriter</strong> erweitert werden.
<br />
<br />
<br />
<a name="1-Konfiguration"></a><h3>1. Konfiguration</h3>
Der <strong>CacheManager</strong> erwartet eine Konfigurationsdatei im Namespace
<strong>tools::cache</strong>, dem aktuellen Context und dem Namen <strong>cacheconfig</strong>.
F&uuml;r die Verwendung des <strong>CacheManager</strong>s ist jeweils eine Sektion der Form
<pre class="tagexample">
[my_cache_instance]
Cache.Reader.Namespace = ""
Cache.Reader.Class = ""
Cache.Writer.Namespace = ""
Cache.Writer.Class = ""
Cache.Active = "true"
</pre>
anzulegen. Die Direktive <strong>Cache.BaseFolder</strong> beinhaltet den Basis-Ordner, der vom
CacheManager verwaltet wird, <strong>Cache.Active</strong> definiert, ob der Cache aktiv ist. Sollte
ein Basis-Ordner f&uuml;r mehrere Applikationen verwendet werden, ist es ratsam, den
<strong>Cache.Namespace</strong> mit dem Namespace der aktuellen Applikation zu f&uuml;llen um
&Uuml;berlagerungen zu verhindern.
<br />
<br />
Standardm&auml;&szlig;ig werden die Werte innerhalb der Komponente wie folgt gesetzt:
<ul>
 <li><strong>Cache.BaseFolder</strong>: "./apfcache"</li>
 <li><strong>Cache.Active</strong>: "true"</li>
 <li><strong>Cache.Namespace</strong>: "default"</li>
</ul>
<br />
<br />
<a name="2-Anwendung"></a><h3>2. Anwendung</h3>
Zur Anwendung des CacheManagers muss dieser zun&auml;chst per
<php:highlight>
import('tools::cache','CacheManager');
</php:highlight>
eingebunden werden. Anschlie&szlig;end kann via
<php:highlight>
$cM = &$this->__getAndInitServiceObject('tools::cache','CacheManager','{config_section}');
</php:highlight>
eine Instanz des CacheManagers erzeugt werden. Die Variable <strong>$cM</strong> enth&auml;lt dabei
den mit der Sektion <strong>{config_section}</strong> initialisierten CacheManager.
<br />
<br />
Das folgende Beispiel zeigt die Anwendung des CacheManagers zur cachen von Objekten aus der
Anwendung:





<br />
<br />
<br />
<a name="3-Erweiterung"></a><h3>3. Erweiterung</h3>


<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="de_084" />