<doku:title parent="119" tags="documentation,module,captcha,guestbook,pager,comment,social bookmarking,usermanagement" title="Comment function" urlname="Comment-function">
  The comment function modul is a modul that can be configured and included in each web page by
  adding an XML tag to an existing template.
</doku:title>
<h3 id="Chapter-1-Inclusion"><a href="#Chapter-1-Inclusion">1. Inclusion</a></h3>
The comment function modul is a modul that can be configured and included in each web page by adding
an XML tag:
<gen:highlight type="apf-xml">
  &lt;core:importdesign
    namespace="modules::comments::pres::templates"
    template="comment"
    categorykey="{CAT_KEY}"
   /&gt;
</gen:highlight>
The value "<em>{CAT_KEY}</em>" must be changed to something useful.
<br />
<br />
<br />
<h3 id="Chapter-2-Configuration"><a href="#Chapter-2-Configuration">2. Configuration</a></h3>
<h4 id="Chapter-2-1-Applications-configuration"><a href="#Chapter-2-1-Applications-configuration">2.1. Application configuration</a></h4>
The module uses a database table to save the comments. For this reason, a database configuration
must be defined in the module's configuration. The name of the configuration file is
<gen:highlight type="code">/config/modules/comments/{CONTEXT}/{ENVIRONMENT}_comments.ini</gen:highlight>
and the content looks as follows:
<gen:highlight type="ini">
[Default]
Database.ConnectionKey = "..."
</gen:highlight>
Details on the configuration can be taken from the <int:link pageid="134" /> chapter.
<br />
<br />
<br />
<h4 id="Chapter-2-3-CAPTCHA-module"><a href="#Chapter-2-3-CAPTCHA-module">2.3. CAPTCHA module</a></h4>
To protect the comment form from spam posts, the form was added the <int:link pageid="094" />. This APF module
needs further configuration in order to dynamically display the captcha module. So please take the
steps necessary from the linked module desciption page.
<br />
<br />
<br />
<h4 id="Chapter-2-2-CSS-adaption"><a href="#Chapter-2-2-CSS-adaption">2.2. CSS adaption</a></h4>
In order to adapt the design of the module fitting your page layout, several classes are included
in the HTML markup. For a start, you can use the stylesheet, that is delivered together with the
module's code:
<gen:highlight type="apf-xml">/modules/comments/pres/css/comments.css</gen:highlight>
Including the module into your page, your stylesheet should contain the content of the example file.
This can be achieved by adding the whole stylesheet to your page header or by defining the relevant
classes within your existing stylesheets.
<br />
<br />
<br />
<h3 id="Chapter-3-Note"><a href="#Chapter-3-Note">3. Note</a></h3>
<p>
   A detailed description on the function of this modul can be found in the <em>tutorials section</em> under
   <int:link pageid="032" />.
</p>

<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="en_089" />