<doku:title parent="119" tags="mailsender,mail" title="mailSender" urlname="mailSender">
  Die Klasse mailSender stellt einen Mail-Versand-Service zur Verfügung. Mit diesem können
  auf einfache Art und Weise Mails erstellt und verschickt werden.
</doku:title>
<div class="warn">
   Bitte beachten Sie, dass diese Komponte mit der Version 2.0 als veraltet markiert wurde. Bitte nutzen Sie statt 
   dessen eine andere Lösung (z.B. <a class="external" href="http://phpmailer.worxware.com">PHPM@iler</a>), da der Code
   in der Version 2.1 entfernt wird.
</div>
<p>
   Die Klasse <strong>mailSender</strong> stellt einen Mail-Versand-Service zur Verfügung. Mit
   diesem können auf einfache Art und Weise Mails erstellt und verschickt werden. 
</p>
<p>
   Ein einfaches Verwendungsbeispiel ist folgendes Code-Schnipsel:
</p>
<gen:highlight type="php">
$sender = &$this->getAndInitServiceObject('APF\tools\mail\mailSender', 'Standard');

$sender->setSubject('My Subject');
$sender->setContent('My Text');
$sender->setRecipient('test@example.com', 'Your Name');

$sender->sendMail();
</gen:highlight>
<p>
   Soll die Mail an mehrere Empfänger verschickt werden, so kann entweder die Methode
   <strong>setRecipient()</strong> verwendet werden um weitere Empfänger hinzuzufügen oder die
   Mail kann per <strong>setCCRecipient()</strong> mit CC-Empfängern ausgestattet werden. BCC-Kopien
   werden mit der Methode <strong>setBCCRecipient()</strong> unterstützt.
</p>
<p>
   Ein ausführliches Anwendungsbeispiel finden Sie unter <int:link pageid="035" />.
</p>
<p>
   Um das Modul einsetzen zu können muss dieses zuerst konfiguriert werden. Hierzu erwartet die
   Komponente eine Konfigurationsdatei mit dem Namen
</p>
<gen:highlight type="code">
{ENVIRONMENT}_mailsender.ini
</gen:highlight>
<p>
   unter dem Ordner
</p>
<gen:highlight type="code">
/apps/config/tools/mail/{CONTEXT}/
</gen:highlight>
<p>
   Der im Aufruf von <em>getAndInitServiceObject()</em> verwendetete zweite Parameter definiert
   den Konfigurationsabschnitt in der Konfigurationsdatei. Der Inhalt einer Sektion hat folgende Gestalt:
</p>
<gen:highlight type="ini">
[{Sektionsname}]
Mail.SenderName = ""
Mail.SenderEMail = ""
Mail.ReturnPath = ""
Mail.ContentType = "text/plain; charset=utf-8"
</gen:highlight>
<p>
   Die Direktive <strong>Mail.ContentType</strong> kann mit beliebigen gültigen MIME-Definitionen
   gefüllt sein. Die Konfigurationsdatei kann mehrere Abschnitte dieses Typs haben, damit der
   <em>mailSender</em> in mehreren Module innerhalb einer Applikation eingesetzt werden kann.
</p>

<core:importdesign namespace="APF\modules\comments\pres\templates" template="comment" categorykey="de_020" />