<doku:title parent="119" tags="session" title="Session" urlname="Session">
  PHP bietet bereits ein integriertes Session-Management. Hierzu wird die superglobale Variable
  $_SESSION zum Session-Handling und weitere Funktionen aus dem Package session angeboten. Um mit
  diesen Hilfsmitteln ein transparentes Session-Handling zu betreiben muss jedoch oft Code zur
  Überprüfung der Session und zur gemeinsamen Nutzung durch mehrere Programm-Teile
  eingeführt werden.
</doku:title>
<p>
   PHP bietet bereits ein integriertes Session-Management. Hierzu wird die superglobale Variable
   <em>$_SESSION</em> zum Session-Handling und weitere Funktionen aus dem Package <em>APF\core\session</em>
   angeboten. Um mit diesen Hilfsmitteln ein transparentes Session-Handling zu betreiben muss jedoch
   oft Code zur Überprüfung der Session und zur gemeinsamen Nutzung durch mehrere Programm-Teile
   eingeführt werden. Diese Aufgabe übernimmt im Adventure PHP Framework der
   <em>Session</em>.
</p>
<p>
   Wird in einer Applikation eine Session benötigt, kann diese einfach per
</p>
<gen:highlight type="php">
use APF\core\session\Session;
$session = new Session('{namespace}');
</gen:highlight>
<p>
   initialisiert werden. Dabei ist <em>{namespace}</em> jeweils durch den Namespace der aktuellen Applikation zu
   ersetzen.
</p>
<p>
   Der <em>Session</em> untergliedert die in PHP global zur Verfügung gestellte Session in
   unterschiedliche Namespaces, die von unterschiedlichen Applikationen zur gleichen Zeit benutzt werden
   können. Per
</p>
<gen:highlight type="php">
$session->save('MyParam', 'MyValue');
</gen:highlight>
<p>
   lassen sich nach der Initialisierung Daten in der Session speichern. Durch den <em>Session</em>
   wird zudem sichergestellt, dass die Session immer beim Einsatz der Applikation existent ist. Ein
   <em>session_start()</em> ist nicht mehr notwendig. Gespeicherte Daten können ganz einfach
   mit
</p>
<gen:highlight type="php">
echo $session->load('MyParam');
</gen:highlight>
<p>
   aus der Session mit dem Namespace, mit dem der <em>Session</em> initialisiert wurde ausgelesen werden.
   Für einen Logout-Vorgang kann ein Session-Namespace via
</p>
<gen:highlight type="php">
$session->destroy();
</gen:highlight>
<p>
   zurückgesetzt werden. Anschließend liefert ein <em>load()</em> <em>null</em> zurück. Der Aufruf der
   Methode
</p>
<gen:highlight type="php">
$session->loadAll();
</gen:highlight>
<p>
   liefert ein assoziatives Array mit allen Einträgen des bei der Erstellung des Session-Manager
   übergebenen Namespaces zur Verfügung. Sofern eine Liste der aktuell registrierten
   Schlüssel erforderlich ist, kann diese mit
</p>
<gen:highlight type="php">
$session->getEntryKeys();
</gen:highlight>
<p>
   abgefragt werden. Beabsichtigen Sie einen Inhalt aus der Session zu löschen, können Sie die Methode <em>delete()</em>
   nutzen:
</p>
<gen:highlight type="php">
$session->delete('MyParam');
</gen:highlight>

<core:importdesign namespace="APF\modules\comments\pres\templates" template="comment" categorykey="de_019" />