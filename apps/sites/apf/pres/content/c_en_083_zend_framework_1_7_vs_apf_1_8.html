<doku:title parent="100" tags="zend,framework,adventure php framework,apf,performance,apf wins,benchmark,competition" title="Zend framework 1.7rc vs. APF 1.8-BETA" urlname="Zend-framework-1-7-rc-vs-apf-1-8-beta">
  This article compares the basic execution speed of the Zend Frameworks with the APF's speed. The
  result is quite amazing, since the APF wins the race again.
</doku:title>
Do you also think, that the article <int:link pageid="049" /> (German) written in 2007 is quite old?
Is this test not representitive any more due to the new functionality and improvements released in
the meantime?
<br />
<br />
We thought so, too! And because of leck of time, we just pimped the source code of the test done last
year and initiated a performance challenge between the zend framework (ZF) and the adventure php
framework (APF). We also included new functionality, if applicable.
<br />
<br />
<br />
<h3 id="Chapter-1-Test-definition"><a href="#Chapter-1-Test-definition">1. Test definition</a></h3>
As you can take from the article mentioned above, the test comprehended the rendering of a four-area
webpage with one main template including the page's meta tags, two menus and one content area. The
content of the content area is stored in a file. The two menus just contain static link lists.
<br />
<br />
<img src="http://media.adventure-php-framework.org/content/zend-framework-1-7-rc-vs-apf-1-8-beta-webpage.png" alt="Simple test with a four area web page" />
<br />
<br />
As a second test, form handling was checked using a simple contact form. This is intended to measure
the performance while processing a greater amount of objects. Thereby, the form consists of four text
and on select field with value presetting and field validation on button click. If the fields are
not filled with valid content, a validation hint is displayed as shown on the next screen.
<br />
<br />
<img src="http://media.adventure-php-framework.org/content/zend-framework-1-7-rc-vs-apf-1-8-beta-form.png" alt="Advanced test with a contact form" />
<br />
<br />
<h3 id="Chapter-2-Test-results"><a href="#Chapter-2-Test-results">2. Test results</a></h3>
The execution time was recorded by a quick & dirty
<gen:highlight type="apf-xml">
for i in $(seq 1 10)
do
   wget -o result.txt http://local.test.url
   grep -i "&nbsp;s&nbsp;" result.txt | head -1 | cut -d "&gt;" -f 2 |  cut -d "&" -f 1 >> local.test.url.log
   sleep 10
done
</gen:highlight>
script. To ensure comparability, the test machine was not executing any other software except the
webserver and the shell script. As we wanted to test the pure uncached performance, tools like
mmcache or eaccelerator were not used. The following image presents the benchmark results to you:
<br />
<br />
<img src="http://media.adventure-php-framework.org/content/zend-framework-1-7-rc-vs-apf-1-8-beta.png" alt="Zend framework 1.7rc vs. APF 1.8-BETA - APF wins competition" />
<br />
<br />
As the result table shows, the zend framework is 4 times slower than the adventure php framework when
rendering normal pages. The factor is reduced to 2 times, when handling a large amount of objects.
<br />
<br />
Due to the performance enhancements planned for the 1.7 series of the zend framework, the result was
a little bit confusing. On the one hand, the performance was increased up to factor 2, but we would 
have expected greater performance. As you can see in the result table, the APF is still better in 
rendering complex web pages. With respect to the greater complexity of the DOM object tree created 
by the APF, the result of the ZF is some kind of disappointing.
<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="en_083" />
