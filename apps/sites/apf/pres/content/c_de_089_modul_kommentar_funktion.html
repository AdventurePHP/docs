<doku:title parent="119" tags="dokumentation,module,captcha,gaestebuch,pager,kommentar,social bookmarking,usermanagement" title="Kommentar-Funktion" urlname="Kommentar-Funktion">
  Das Modul comments bietet ein voll funktionsf&auml;higes Kommentar-Modul f&uuml;r Webseiten, das
  lediglich &uuml;ber einen XML-Tag in die Seite eingebunden werden muss.
</doku:title>
<h3 id="Chapter-1-Einbindung"><a href="#Chapter-1-Einbindung">1. Einbindung</a></h3>
Das Modul "comments" bietet ein voll funktionsf&auml;higes Kommentar-Modul f&uuml;r
Webseiten, das lediglich &uuml;ber einen XML-Tag in die Seite eingebunden werden muss. Die Einbindung
kann dabei &uuml;ber den <int:link pageid="046">importdesign</int:link>-Tag wie folgt erledigt werden:
<gen:highlight type="apf-xml">
&lt;core:importdesign
   namespace="modules::comments::pres::templates"
   template="comment"
   categorykey="{CAT_KEY}"
/&gt;
</gen:highlight>
Der Wert "<em>{CAT_KEY}</em>" ist dabei auf den Wert der aktuellen Kategorie zu &auml;ndern.
<br />
<br />
<br />
<h3 id="Chapter-2-Konfiguration"><a href="#Chapter-2-Konfiguration">2. Konfiguration</a></h3>
<h4 id="Chapter-2-1-Applikations-Konfiguration"><a href="#Chapter-2-1-Applikations-Konfiguration">2.1. Applikations-Konfiguration</a></h4>
Das Modul nutzt eine Datenbank-Tabelle zur Speicherung der Kommentare. Aus diesem Grund muss eine
Konfiguration angelegt werden, die auf eine bestehende Datenbank-Konfiguration verweist. Der Name
der Konfigurationsdatei lautet
<gen:highlight type="code">/config/modules/comments/{CONTEXT}/{ENVIRONMENT}_comments.ini</gen:highlight>
der Inhalt gestaltet sich wie folgt:
<gen:highlight type="ini">
[Default]
Database.ConnectionKey = "..."
</gen:highlight>
Details zur Konfiguration k&ouml;nnen dem Kapitel
<a href="./?Seite=033-Konfiguration#Chapter-2-Bennenung-Pfade-und-Dateien" title="Benennung von Pfaden und Dateien">Benennung von Pfaden und Dateien</a>
entnommen werden, das Kapitel
<a href="./?Seite=031-Klassenreferenz-connectionManager#Chapter-2-Anwendung" title="Klassenreferenz - connectionManager">Klassenreferenz connectionManager</a>
beschreibt die Konfiguration der Datenbank-Verbindung.
<br />
<br />
<br />
<h4 id="Chapter-2-2-CSS-Anpassung"><a href="#Chapter-2-2-CSS-Anpassung">2.2. CSS-Anpassung</a></h4>
Zur Anpassung der Styles des Moduls an das jeweilige Einsatzgebiet sehen die Templates entsprechende
Klassen vor. Die vorhandenen Klassen sowie eine Beispiel-Gestaltung findet sich unter
<gen:highlight type="apf-xml">/modules/comments/pres/css/comments.css</gen:highlight>
Bei der Einbindung des Moduls m&uuml;ssen die in der Beispiel-CSS-Datei definierten Elemente
in die Seite eingebunden werden. Dies kann durch Hinzuf&uuml;gen der Stylesheet-Datei in den Head
der Webseite oder durch Kopieren der Klassen in bereits vorhandene Style-Sheet-Dateien
bewerkstelligt werden.
<br />
<br />
<br />
<h4 id="Chapter-2-3-CAPTCHA-Modul"><a href="#Chapter-2-3-CAPTCHA-Modul">2.3. CAPTCHA-Modul</a></h4>
Um das Erstellen von Eintr&auml;gen zu limitieren, wurde das
<a href="./?Seite=094-Module-CAPTCHA-Taglib" title="CAPTCHA-Modul">CAPTCHA-Modul</a>
in das Formular integriert. Dieses ben&ouml;tigt zur dynamischen Anzeige des CAPTCHA-Bildes noch eine
zus&auml;tzliche Konfiguration. Die einzelnen Schritte entnehmen Sie bitte der Seite des
CAPTCHA-Moduls.
<br />
<br />
<br />
<h3 id="Chapter-3-Hinweis"><a href="#Chapter-3-Hinweis">3. Hinweis</a></h3>
Eine ausf&uuml;hrliche Beschreibung zur Benutztung und zur Implementierung findet sich im Bereich
<strong>Tutorials</strong> unter <a href="./?Seite=032-Kommentarfunktion" title="Kommentar-Funktion">Kommentar-Funktion</a>.
<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="de_089" />