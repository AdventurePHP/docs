<doku:title parent="119" tags="documentation,class reference,classes,reference,logger" title="Logger" urlname="Logger">
  The class Logger is a tool to accomplish logging issues. For configuration issues, the registry
  directive LogDir must be changed as desired.
</doku:title>
The class <strong>Logger</strong> is a tool to accomplish logging issues. To not influence the
performance of an web application in a negavive way the logger must be used in singleton flavour. The
component ensures that every log entry is flushed into a logfile at the end of a request. The
<strong>Logger</strong> uses the registry value <strong>LogDir</strong> from the registry namespace
<strong>apf::core</strong> as a it's log directory. The value of the registry entry is initialized
with the <strong>absulute</strong> path to the current directory plus the subfolder <strong>logs</strong>
by default. In order to adjust the log directory to meet your needs, the desired path must be commited
to the registry before instanciating the page or frontcontroller. This can be achieved by using the
following code snippet:
<gen:highlight type="php">
// obtain an singleton instance of the registry
$Reg = &Singleton::getInstance('Registry');

// adjust LogDir
$Reg->register('apf::core','LogDir','/path/to/my/log/dir');
</gen:highlight>
The path defined there characterizes the central logging path for all logfiles within one application.
<br />
<br />
<strong>Note</strong>: to avoid log dir access errors, please define <strong>absolut</strong> log
paths only!
<br />
<br />
<br />
To use the logger it must be imported using
<gen:highlight type="php">
  import('core::logging','Logger');
</gen:highlight>
prior to use. After that the logger can be created by using the abstract singleton class:
<gen:highlight type="php">
  $Log = &Singleton::getInstance('Logger');
</gen:highlight>
<em>$Log</em> now contains a reference on the logger in the current scope of application. To add a
log message with the content <strong>MESSAGE</strong> to the log file <strong>FILENAME</strong> the
code snippet
<gen:highlight type="php">
  $Log->logEntry('FILENAME','MESSAGE');
</gen:highlight>
can be used. The third parameter of the method <strong>logEntry()</strong> (optional) specifies
the <strong>SEVERITY</strong> of the message provided. This parameter can be filled with any string.
Merely <strong>ERROR</strong> is used for error messages, default value is <strong>INFO</strong>.
<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="en_023" />