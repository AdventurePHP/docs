<doku:title parent="119" tags="documentation,class reference,classes,reference,mailsender" title="mailSender" urlname="mailSender">
  The class mailSender provides an easy-to-use mail delivering layer. It enables the developer to
  create and send mails adventure style like.
</doku:title>
The class <strong>mailSender</strong> provides an easy-to-use mail delivering layer. It enables the
developer to create and send mails adventure style like. To use this component it must be imported
using the
<gen:highlight type="php">
import('tools::mail','mailSender');
</gen:highlight>
directive. The following code snippet shows an easy example:
<gen:highlight type="php">
$MAIL = &$this->getAndInitServiceObject('tools::mail','mailSender','Standard');
$MAIL->setSubject('My Subject');
$MAIL->setContent('My Text');
$MAIL->setRecipient('test@example.com','Your Name');

$MAIL->sendMail();
</gen:highlight>
In order to send an e-mail to more than one recipient the methode <strong>setRecipient()</strong> can
be used several times. Another alternative is to utilize the <strong>setCCRecipient()</strong> method
to add CC recipients to the mail. Adding BCC recipients is supported by the
<strong>setBCCRecipient()</strong> method.
<br />
A detailed example can be found in the <int:link pageid="035" /> chapter.
<br />
<br />
To use this component it must be configured prior to use. Therefor a configuration file with the name
<gen:highlight type="code">
{ENVIRONMENT}_mailsender.ini
</gen:highlight>
must be stored in the folder
<gen:highlight type="code">
/apps/config/tools/mail/{CONTEXT}/
</gen:highlight>
The third parameter used in the function call of the <em>getAndInitServiceObject()</em> methode above
specifies the configuration section to use. Each section must contain the following configuration
keys:
<gen:highlight type="ini">
[{section name}]
Mail.SenderName = ""
Mail.SenderEMail = ""
Mail.ReturnPath = ""
Mail.ContentType = "text/plain; charset=iso-8859-1"
</gen:highlight>
<strong>Mail.ContentType</strong> can be filled with any valid MIME type definition. The configuration
file can contain any amount of sections so that the <em>mailSender</em> can be used in various modules
within one application in parallel.
<br />
<br />
<br />
<core:importdesign namespace="modules::comments::pres::templates" template="comment" categorykey="en_020" />