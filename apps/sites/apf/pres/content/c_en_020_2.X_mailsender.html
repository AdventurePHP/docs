<doku:title parent="119" tags="mailsender,mail" title="mailSender" urlname="mailSender">
  The class mailSender provides an easy-to-use mail delivering layer. It enables the developer to
  create and send mails adventure style like.
</doku:title>
<div class="warn">
   Please note that this component has been marked as deprecated in version 2.0. Please use another solution (e.g.
   <a class="external" href="http://phpmailer.worxware.com">PHPM@iler</a>) since the code is removed in version 2.1.
</div>
<p>
   The class <strong>mailSender</strong> provides an easy-to-use mail delivering layer. It enables the
   developer to create and send mails adventure style like.
</p>
<p>
   The following code snippet shows an easy example:
</p>
<gen:highlight type="php">
$sender = &$this->getAndInitServiceObject('APF\tools\mail\mailSender', 'Standard');

$sender->setSubject('My Subject');
$sender->setContent('My Text');
$sender->setRecipient('test@example.com', 'Your Name');

$sender->sendMail();
</gen:highlight>
<p>
   In order to send an e-mail to more than one recipient the method <strong>setRecipient()</strong> can
   be used several times. Another alternative is to utilize the <strong>setCCRecipient()</strong> method
   to add CC recipients to the mail. Adding BCC recipients is supported by the
   <strong>setBCCRecipient()</strong> method.
</p>
<p>
   A detailed example can be found in the <int:link pageid="035" /> chapter.
</p>
<p>
   To use this component it must be configured prior to use. Therefor a configuration file with the name
</p>
<gen:highlight type="code">
{ENVIRONMENT}_mailsender.ini
</gen:highlight>
<p>
   must be stored in the folder
</p>
<gen:highlight type="code">
/apps/config/tools/mail/{CONTEXT}/
</gen:highlight>
<p>
   The second parameter used in the function call of the <em>getAndInitServiceObject()</em> methode above
   specifies the configuration section to use. Each section must contain the following configuration
   keys:
</p>
<gen:highlight type="ini">
[{section name}]
Mail.SenderName = ""
Mail.SenderEMail = ""
Mail.ReturnPath = ""
Mail.ContentType = "text/plain; charset=utf-8"
</gen:highlight>
<p>
   <strong>Mail.ContentType</strong> can be filled with any valid MIME type definition. The configuration
   file can contain any amount of sections so that the <em>mailSender</em> can be used in various modules
   within one application in parallel.
</p>

<core:importdesign namespace="APF\modules\comments\pres\templates" template="comment" categorykey="en_020" />